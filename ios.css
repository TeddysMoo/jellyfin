body { background: rgba(255,0,0,0.1) !important; }

/* --- Default: blur all episode thumbnails and hide descriptions --- */
.listItem .listItemImage::before {
  content: '';
  position: absolute;
  inset: 0;
  backdrop-filter: blur(8px);
  transition: backdrop-filter 0.3s ease;
  z-index: 0;
}

/* Keep overlay buttons/icons sharp */
.listItem .listItemImageButton,
.listItem .listItemImageButton *,
.listItem .material-icons,
.listItem .emby-button {
  position: relative;
  z-index: 2;
  filter: none !important;
  backdrop-filter: none !important;
}

/* Hide all descriptions */
.listItem .listItem-overview,
.listItem .listItem-bottomoverview,
.listItem .secondary.listItemBodyText {
  display: none !important;
  visibility: hidden;
  opacity: 0;
}

/* --- iOS visual fallback: detect played checkmark icon --- */
.listItem .playstatebutton-icon-played {
  position: relative;
  z-index: 3;
}

/* Create an unblur zone around the checkmark that clears the whole thumbnail */
.listItem .playstatebutton-icon-played::before {
  content: '';
  position: absolute;
  inset: -300% -300%;
  background: rgba(0, 0, 0, 0);
  backdrop-filter: none !important;
  z-index: -1;
}

/* --- Show descriptions when played icon exists --- */
.listItem .playstatebutton-icon-played ~ .listItemBody .listItem-overview,
.listItem .playstatebutton-icon-played ~ .listItemBody .secondary.listItemBodyText {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Always hide the duplicate bottom line */
.listItem .listItem-bottomoverview {
  display: none !important;
}
